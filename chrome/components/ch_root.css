/* Source file made available under Mozilla Public License v. 2.0 See the main repository for updates as well as full license text. 
   https://github.com/Godiesc/Chameleons-Beauty */

/* Default Preferences */

:root:not([style*="--lwt-additional-images"],[lwtheme-image]) {
  --lwt-accent-color: var(--toolbar-bgcolor, Field) !important;                        /* frame */
}

:root {

  --my-content-border-color: color-mix(in srgb, 
    var(--toolbar-field-color) 8%, transparent) !important;                            /* Border color for web content is some situations */

  --button-primary-bgcolor: var(--main-background-var-lightened-strong) !important;
  /*--lwt-accent-color: var(--toolbar-bgcolor, Field) !important;                      /* frame */
  /*--toolbox-textcolor: var(--tab-selected-textcolor) !important;                     /* tab_background_text */
  --lwt-accent-color-inactive: var(--lwt-accent-color, Field) !important;              /* frame_inactive */
  /*--toolbox-textcolor-inactive: var(--tab-selected-textcolor) !important;            /* tab_background_text */
  /*--lwt-text-color: inherit !important;                                              /* tab_background_text - general focus & unfocus window */

  /*--lwt-selected-tab-background-color: var(--toolbar-bgcolor) !important;            /* tab-selected background color */
  /*--tab-selected-textcolor: var(--toolbar-bgcolor) !important;                       /* tab_selected text color */

  --tab-loading-fill: var(--general-color) !important;                                 /* Dot color when page loads */

  --tabs-navbar-separator-color: transparent !important;                               /* Separator between tabs and toolbar */

  --panel-description-color: var(--button-primary-bgcolor) !important;                 /* Color de letras de: correo de la cuenta, y dispositivos conectados */

  --toolbar-field-focus-border-color: transparent !important;                          /* Borde Urlbar 'focused' */
  --toolbar-field-color: var(--toolbarbutton-icon-fill) !important;/**/
  --toolbar-field-focus-color: var(--tab-selected-textcolor) !important;

  --urlbar-box-hover-bgcolor: var(--toolbarbutton-hover-background) !important;        /* Urlbar buttons background when 'hover' */
  --urlbar-box-active-bgcolor: var(--toolbarbutton-active-background) !important;      /* Urlbar buttons background when 'active' */

  --toolbarbutton-inner-padding: 5px !important;                                       /* botonesIconosToolbarMásPequeños */

  --toolbarbutton-icon-fill: var(--tab-selected-textcolor) !important;                       /* Icons color */

  --tab-block-margin: 4px 1px !important;                                              /* margenes pestañas  <-------------------¬ */
  --my-tab-margin-top: 4px !important;                                                 /* margen top pestañas - variable personal */
  --my-tab-margin-bottom: 1px !important;                                              /* margen bottom pestañas - variable personal */
  --tab-min-height: var(--tab-height-personal) !important;                             /* Tab size */
  --tabstrip-min-height: var(--tab-height-personal) !important;                        /* Tab min size */
  --tab-border-radius: 5px !important;                                                 /* Tab roundness */
  --tabs-shadow-size: 0px !important;                                                  /* Tab shadow */
  --tab-overflow-clip-margin: 1px !important;                                          /* Space between tabs */
  --tab-selected-shadow: none !important;                                              /* Remove tab selected shadow */
  
  --toolbar-color: var(--toolbarbutton-icon-fill) !important;                          /* Toolbar label color - tested in bookmarksbar */

  /*--panel-subview-body-padding: 0px !important;                                      /* Margen top-bottom interno de arropanels */
  /*--arrowpanel-menuitem-margin-inline: 0px !important;                               /* Margen left-right interno de arropanels */
  --arrowpanel-border-radius: 6px !important;                                          /* Forma del borde arropanels */
  /*--panel-separator-margin-vertical: 4px !important;                                 /* margen vertical entre los separadores */
  /*--panel-separator-margin-horizontal: 0px !important;                               /* Margen horizontal de los separadores */

  --urlbarView-separator-color: transparent !important;                                /* color separador urlbar y sugerencias de búsqueda */

  --tab-selected-bgcolor: var(--toolbar-bgcolor) !important;                           /* tab_selected */
  --lwt-selected-tab-background-color: var(--tab-selected-bgcolor) !important;         /* tab_selected */
  /*--tab-selected-outline-color: var(--identity-tab-color, var(--middle-color)) !important;     /* Selected tab border color */

  --arrowpanel-menuitem-padding: 7px !important;                                       /* MenúHambuguesaMásCompacto */
  --urlbar-icon-padding: 4px !important;                                               /* ÍconosUrlbarCompactos */
  --toolbarbutton-outer-padding: 3px !important;                                       /* EspacioEntreÍconosToolbar */

  scrollbar-color: #38375580 #18173530 !important;                                     /* Colores - Barra de deplazamiento */

  --link-color: var(--general-color) !important;                                       /* Links color */
  --link-color-hover: var(--button-active-bgcolor) !important;                         /* Links 'hover' color */
  --link-color-active: var(--purple);                                                  /* Links 'click' color */
  --link-color-visited: var(--purple);                                                 /* Link 'visited' color */

  --attention-dot-color: var(--general-color) !important;                              /* Dot below favicon */

  --color-accent-primary: var(--button-active-bgcolor) !important;                     /* Radiobutton and more */
  --color-accent-primary-hover: var(--button-hover-bgcolor) !important;                /* Radiobutton and more 'hover' */
  --color-accent-primary-active: var(--general-color) !important;                      /* Radiobutton and more 'active' */

  --button-text-color-primary: var(--arrowpanel-color) !important;                     /* Button label color */
  --button-text-color-primary-hover: var(--arrowpanel-color) !important;               /* Buttons label color 'hover' */

  /*Color borde en InputText*/
  --input-border-color: color-mix(in srgb, var(--arrowpanel-background) 90%, var(--arrowpanel-color)) !important;

  /*Fondo de InputText*/
  --input-bgcolor: color-mix(in srgb, var(--arrowpanel-background)75%, black) !important;                               /* Color of the 'input box' when saving a bookmark */
  --focus-outline-color: var(--general-color) !important;                                                               /* Border color of the 'input box' when :focused */
  --input-border-color: color-mix(in srgb, var(--arrowpanel-background) 88%, var(--tab-selected-textcolor)) !important; /* Border Color of the 'input box' non focused */
  --Button-background-personal: color-mix(in srgb, var(--arrowpanel-background) 82%, var(--general-color)) !important;  /* Buttons background color - personal variable */


  --sidebar-background-color: transparent !important;                                         /* Sidebar-background - Tested in 'AI chatbot' */
  background-color: transparent !important;                                                   /* remove unwanted background color in 'sidebar' - 
  tested without 'revamp' in 'synced tabs' in a theme with images */

  --inactive-titlebar-opacity: 1 !important;                                                  /* Opacity unfocused window */
   
}

/* Default Dark Mode */

@media (prefers-color-scheme: dark) {
:root { 
  
  --contrast-color: #101019 !important;   
  
  --toolbarseparator-color: var(--my-content-border-color) !important;                                          /* Color de separadores */
  
  --toolbar-field-border-color: color-mix(in srgb, var(--toolbar-field-color) 8%, transparent) !important;         /*urlbarColor-ColorBordeCuadroUrlbar*/  
  --toolbar-field-background-color: transparent !important;                                                        /*ColorUrlbar*/
  --toolbar-field-focus-background-color: color-mix(in srgb, 
    var(--lwt-accent-color) 70%, transparent) !important;                                                          /* Background color urlbar 'open' */
  --urlbar-popup-url-color: #3389ff !important;                                                                    /*colorUrlSugerenciasDeBusqueda*/
  --lwt-popup-brighttext-url-color: #3379ff !important;                                                            /*"color de label: El sitio no funciona?"*/ 
  --lwt-toolbar-field-highlight: var(--button-primary-bgcolor) !important;                                         /*"toolbar_field_highlight": "#006f80"*/
  --lwt-toolbar-field-highlight-text: #eaeaea !important;                                                          /*"toolbar_field_highlight_text": "#eaeaea"*/
  --autocomplete-popup-highlight-background: var(--button-primary-bgcolor) !important;                             /*"popup_highlight": "#006f80"*/
  --autocomplete-popup-highlight-color: #eaeaea !important;                                                        /*"popup_highlight-letras": "#006f80"*/
  --lwt-toolbarbutton-icon-fill-attention: #4d7afe !important;                                                     /*"icons_attention": "#00dbfd"*/
  
  --toolbarbutton-hover-background: color-mix(in srgb, var(--toolbar-bgcolor) 90%, var(--tab-selected-textcolor)) !important;           /*"button_background_hover": "#26242e"*/
  --toolbarbutton-active-background: color-mix(in srgb, transparent 86%, var(--tab-selected-textcolor)) !important;          /*"button_background_active": "#26242e"*/
  --toolbarbutton-hover-personal: var(--toolbarbutton-hover-background) !important;                                /* Button :hover color personal*/
  
  --chrome-content-separator-color: var(--my-content-border-color) !important;                                             /* toolbar_bottom_separator */
    
  --button-bgcolor: color-mix(in srgb, var(--tab-selected-textcolor, FieldText) 14%, transparent) !important;                /*ColorCombobox-yBotones(+-)*/
  --button-hover-bgcolor: color-mix(in srgb, var(--tab-selected-textcolor, FieldText) 18%, transparent) !important;          /*colorHoverCombobox-yBotones(+-)*/
  --button-active-bgcolor: color-mix(in srgb, var(--tab-selected-textcolor, FieldText) 30%, transparent) !important;         /*ColorAlHacerClicCombobox-yBotones(+-)*/        
  
  --panel-separator-zap-gradient: var(--personal-gradient-into-arrowpanels) !important;                            /*GradienteMenúHamburguesa*/                    
  --gradient: var(--my-tab-gradient) !important;                                                         /*GradientePestañaActiva*/
      
  --autocomplete-popup-hover-background: var(--button-hover-bgcolor) !important;                                   /*Color hover de sujerencias de búsqueda*/

  /* --shield-icon-personal: url("../icons/shield-dark.svg") !important;                                             Ícono protección contra rastreo*/
  --my-beats-image: url("../icons/beats.webp") !important;                                                    /* Dark animated beats*/
  
  --noise-urlbar-personal: url("../icons/urlbar-noise-light.png") !important;                                           /* Urlbar [open] - noise background */
}}

/* Default Light Mode */

@media (prefers-color-scheme: light) {
:root {
  
  --contrast-color: #ffffff !important;
  
  --toolbarseparator-color: color-mix(in srgb, var(--toolbar-bgcolor) 90%, var(--tab-selected-textcolor)) !important;        /* Color de separadores */
  
  --toolbar-field-border-color: color-mix(in srgb, var(--toolbar-field-color) 10%, transparent) !important;        /*urlbarColor-ColorBordeCuadroUrlbar*/  
  --toolbar-field-background-color: transparent !important;                                                        /*ColorUrlbar*/
  --toolbar-field-focus-background-color: color-mix(in srgb, 
    var(--toolbar-bgcolor) 86%, var(--contrast-color)) !important;                                                 /*ColorUrlbarOpen*/
  --urlbar-popup-url-color: #3389ff !important;                                                                    /*colorUrlSugerenciasDeBusqueda*/
  --lwt-popup-brighttext-url-color: #3379ff !important;                                                            /*"color de label: El sitio no funciona?"*/ 
  --lwt-toolbar-field-highlight: var(--button-primary-bgcolor) !important;                                         /*"toolbar_field_highlight": "#006f80"*/
  --lwt-toolbar-field-highlight-text: #eaeaea !important;                                                          /*"toolbar_field_highlight_text": "#eaeaea"*/
  --autocomplete-popup-highlight-background: var(--button-primary-bgcolor) !important;                             /*"popup_highlight": "#006f80"*/
  --autocomplete-popup-highlight-color: #eaeaea !important;                                                        /*"popup_highlight-letras": "#006f80"*/
  --lwt-toolbarbutton-icon-fill-attention: var(--main-background-var) !important;                                                     /*"icons_attention": "#00dbfd"*/  
  
  --toolbarbutton-hover-background: color-mix(in srgb, transparent 88%, var(--tab-selected-textcolor)) !important;           /*"button_background_hover": "#26242e"*/
  --toolbarbutton-active-background: color-mix(in srgb, transparent 80%, var(--tab-selected-textcolor)) !important;          /*"button_background_active": "#26242e"*/
  --toolbarbutton-hover-personal: var(--toolbarbutton-hover-background) !important;                                /* Button :hover color personal*/
  
  --chrome-content-separator-color: color-mix(in srgb, 
    var(--toolbar-field-color) 12%, var(--toolbar-bgcolor)) !important;                                            /* toolbar_bottom_separator */
    
  --button-bgcolor: color-mix(in srgb, var(--tab-selected-textcolor, FieldText) 14%, transparent) !important;                /*ColorCombobox-yBotones(+-)*/
  --button-hover-bgcolor: color-mix(in srgb, var(--tab-selected-textcolor, FieldText) 18%, transparent) !important;          /*colorHoverCombobox-yBotones(+-)*/
  --button-active-bgcolor: color-mix(in srgb, var(--tab-selected-textcolor, FieldText) 30%, transparent) !important;         /*ColorAlHacerClicCombobox-yBotones(+-)*/        
  
  --panel-separator-zap-gradient: var(--my-menuitem-gradient) !important;                            /*GradienteMenúHamburguesa*/                    
  --gradient: var(--my-tab-gradient) !important;                                                         /*GradientePestañaActiva*/
      
  --autocomplete-popup-hover-background: var(--button-hover-bgcolor) !important;                                   /*Color hover de sujerencias de búsqueda*/
  --shield-icon-personal: url("../icons/shield-light.svg") !important;                                            /*Ícono protección contra rastreo*/
  --my-beats-image: url("../icons/beats.gif") !important;                                                   /* Dark animated beats*/
  
  --noise-urlbar-personal: url("../icons/urlbar-noise-light.png") !important;                                           /* Urlbar [open] - noise background */
}}

/* ___________ Tabs groups ___________
   ¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯ */
:root {
  tab-group {
    --general-color: light-dark(var(--tab-group-color), var(--tab-group-color-invert)) !important;      /* General color becomes the group accent color */
    --tab-group-line-thickness: var(--my-group-line-thickness) !important;                              /* Tab-group line width */
    --tab-loading-fill: var(--general-color) !important;                                   /* Dot color when page loads */
    /*--tab-group-bgcolor: color-mix(in srgb, 
      light-dark(var(--tab-group-color), var(--tab-group-color-invert)) 8%, transparent) !important;   /* Group Background */

    /*--my-hover-dark-group-color: color-mix(in srgb, var(--tab-group-color) 80%, var(--tab-selected-textcolor));       /* 'hover' on group label - dark */
    /*--my-hover-light-group-color: color-mix(in srgb, var(--tab-group-color-invert), transparent);           /* 'hover' on group label - light */
  }
}

/* _________________________________ Compatibilidad Parcial para temas que usan "Imagenes" */

@media (prefers-color-scheme: dark) {
:root:is([style*="--lwt-additional-images"],[lwtheme-image]) {
  --tab-selected-textcolor: white !important;                                                                      /* tab_text */
  --my-toolbar-bgcolor: color-mix(in srgb, 
    var(--contrast-color), transparent var(--brightness-browser)) !important;         /* Necesario para image in menus */
  --toolbar-field-focus-background-color: color-mix(in srgb, 
    var(--contrast-color) 30%, var(--toolbar-bgcolor)) !important;                                                 /* Urlbar background when 'focused' or 'open' */
  --toolbar-bgcolor: var(--my-toolbar-bgcolor) !important;                                                                         /* toolbar */
  --toolbarbutton-hover-background: color-mix(in srgb, 
    transparent 80%, var(--tab-selected-textcolor)) !important;                                                    /* toolbarbuttons background when 'hover' */
  --arrowpanel-background: #101019 !important;                                                                     /* popup */
  --arrowpanel-color: var(--tab-selected-textcolor) !important;                                                    /* popup_text */
  }}

@media (prefers-color-scheme: light) {
:root:is([style*="--lwt-additional-images"],[lwtheme-image]){
  --tab-selected-textcolor: black !important;                                                                      /* tab_text */
  --my-toolbar-bgcolor: color-mix(in srgb, 
    var(--contrast-color), transparent var(--brightness-browser)) !important;                                    /* Necesario para image in menus */
  --toolbar-bgcolor: var(--my-toolbar-bgcolor) !important;                                                                         /* toolbar */
  --arrowpanel-background: #fefef5 !important;                                                                     /* popup */
  --arrowpanel-color: var(--tab-selected-textcolor) !important;                                                              /* popup_text */
  }}

/* ----------------------------------------- Private Browsing Mode ----------------------------------------- */

:root[privatebrowsingmode="temporary"] {
  --main-background-var: #7d34c3;
  --main-background-var-darkened: color-mix(in srgb, var(--main-background-var) 40%, transparent 60%);
  --main-background-var-darkened2: color-mix(in srgb, var(--main-background-var) 40%, black 50%);
  --main-background-var-lightened-strong: color-mix(in srgb, var(--main-background-var) 60%, black 40%);
  --lwt-header-image: none !important; 
  --lwt-additional-images: none !important;
  --lwt-main-image: none !important;
  --lwt-text-color: var(--tab-selected-textcolor) !important;
  --toolbarbutton-hover-background: color-mix(in srgb, var(--general-color) 20%, transparent) !important;
  --toolbarbutton-active-background: color-mix(in srgb, var(--general-color) 30%, transparent) !important;
  --toolbarbutton-icon-fill: var(--general-color) !important;                                                      /* icons */
  --lwt-toolbarbutton-icon-fill-attention: var(--general-color) !important;                                        /* icons_attention */
  
  @media (prefers-color-scheme: dark) {
    --lwt-accent-color: #101019 !important;                                                                        /* frame color in themes with images */
  }
  
  @media (prefers-color-scheme: light) {
    --lwt-accent-color: #f9f9f0 !important;                                                                        /* frame color in themes with images */
  }
}

/* Set menu-bar height */

:root:not([sizemode="fullscreen"]):has(#toolbar-menubar:not([autohide])) {
  --menubar-height-personal: 30px !important;
}

/* Set bookmarks-bar height */

:root:not([sizemode="fullscreen"]):has(#PersonalToolbar:not([collapsed])) {
  --bookmarksbar-height-personal: 28px !important;
}

#PersonalToolbar {
  max-height: var(--bookmarksbar-height-personal) !important;
}
